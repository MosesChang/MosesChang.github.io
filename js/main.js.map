{"version":3,"sources":["webpack:///./src/states/state.ts","webpack:///./src/states/boot.state.ts","webpack:///./src/states/main.state.ts","webpack:///./src/states/preloader.state.ts","webpack:///./styles/style.styl","webpack:///./assets/images/bullet.png","webpack:///./assets/images/dude.png","webpack:///./assets/images/platform.png","webpack:///./assets/images/sky.png","webpack:///./assets/images/star.png","webpack:///./assets/images/tank.png","webpack:///./assets/images/tile.png","webpack:///./src/index.ts"],"names":[],"mappings":"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","file":"js/main.js","sourcesContent":["'use strict';\r\n/** Imports */\r\nimport App from '..';\r\n\r\nabstract class State extends Phaser.State {\r\n  game: App; // It needs if we add property to `App` class\r\n}\r\n\r\nexport default State;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/states/state.ts","'use strict';\r\n/** Imports */\r\nimport State from './state';\r\n\r\n// The first (boot) state of the game\r\nexport default class BootState extends State {\r\n  create(): void {\r\n    this.game.state.start('preloader');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/states/boot.state.ts","'use strict';\r\n/** Imports */\r\nimport State from './state';\r\n\r\nenum TileType {\r\n  Floor = 0,\r\n  Hay,\r\n  Wall\r\n}\r\n\r\nclass Tile {\r\n  public type: TileType ;\r\n  private sprite: Phaser.Sprite ;\r\n  private game: Phaser.Game ;\r\n\r\n  constructor(game: Phaser.Game, id: TileType, sprite : Phaser.Sprite) {\r\n    this.game = game ;\r\n    this.sprite = sprite ;\r\n    this.sprite.anchor.setTo(0.5, 0.5) ;\r\n    this.setTileType(id) ;\r\n    if (id === TileType.Wall) {\r\n      this.game.physics.p2.enable(this.sprite) ;\r\n      this.sprite.body.kinematic = true ;\r\n      this.sprite.body.static = true ;\r\n    }\r\n  }\r\n\r\n  public setTileType(id: TileType) {\r\n    this.type = id ;\r\n    this.sprite.frame = this.type ;\r\n  }\r\n\r\n  public set visible(value: boolean) {\r\n    this.sprite.visible = value ;\r\n    if (this.type === TileType.Wall) {\r\n      if (value) {\r\n        this.sprite.body.addToWorld() ;\r\n      } else {\r\n        this.sprite.body.removeFromWorld() ;\r\n      }\r\n    }\r\n  }\r\n\r\n  public ckeckCollision(pos: Phaser.Point) {\r\n    let width = pos.x - this.sprite.position.x ;\r\n    let height = pos.y - this.sprite.position.y ;\r\n    if (Math.sqrt((width * width) + (height * height)) <= 20) {\r\n      return true ;\r\n    } else {\r\n      return false ;\r\n    }\r\n  }\r\n\r\n  public hitBullet(point: number) {\r\n    if (this.type === TileType.Hay) {   // Temp without point\r\n      this.type = TileType.Floor ;\r\n      this.sprite.frame = TileType.Floor ;\r\n    }\r\n  }\r\n\r\n  public get visible(): boolean {\r\n    return this.sprite.visible ;\r\n  }\r\n}\r\n\r\n// The main state of the game\r\nexport default class MainState extends State {\r\n  tiles : Tile[][] ;\r\n  allTileIndex : Phaser.Point[] ;\r\n  tankSprite: Phaser.Sprite ;\r\n  bulletSprite: Phaser.Sprite ;\r\n  bulletVelocity: Phaser.Point ;\r\n  tileGroup : Phaser.Group ;\r\n  cursors: Phaser.CursorKeys ;\r\n\r\n  leftBoundry : number;\r\n  rightBoundry : number;\r\n  topBoundry : number;\r\n  bottomBoundry : number;\r\n\r\n  TILE_WIDTH: number = 32 ;\r\n  VISIBLE_TILE_RADIUS: number = 15 ;    // test will be 5\r\n\r\n  create(): void {\r\n    // Init\r\n    this.tiles = [] ;\r\n    this.allTileIndex = [] ;\r\n    this.game.world.setBounds(-10000, -10000, 19200, 19200) ;\r\n    this.game.physics.startSystem(Phaser.Physics.P2JS) ;\r\n\r\n    // Tile group\r\n    this.tileGroup = new Phaser.Group(this.game) ;\r\n\r\n    // Tank\r\n    this.tankSprite = this.game.add.sprite(0, 0, 'tankImage');\r\n    this.tankSprite.anchor.setTo(0.5, 0.5) ;\r\n    this.game.physics.p2.enable(this.tankSprite);\r\n    this.tankSprite.body.setCircle(15);\r\n    this.tankSprite.body.damping = 0.95 ;\r\n    this.game.camera.follow(this.tankSprite, Phaser.Camera.FOLLOW_LOCKON, 0.1, 0.1);\r\n\r\n    // Bullet\r\n    this.bulletSprite = this.game.add.sprite(0, 0, 'bulletImage');\r\n    this.bulletSprite.anchor.setTo(0.5, 0.5) ;\r\n    this.bulletSprite.visible = false ;\r\n    this.bulletVelocity = new Phaser.Point(0, 0) ;\r\n\r\n    // Tile init\r\n    this.tileAssign() ;\r\n\r\n    // Bullet\r\n    this.game.input.keyboard.addKey(Phaser.KeyCode.ONE).onDown.add(() => {\r\n      if (!this.bulletSprite.visible) {\r\n        const lootAt = new Phaser.Point( Math.cos(Phaser.Math.degToRad(this.tankSprite.body.angle - 90)), Math.sin(Phaser.Math.degToRad(this.tankSprite.body.angle - 90))) ;\r\n        this.bulletSprite.visible = true ;\r\n        this.bulletSprite.position.setTo(this.tankSprite.position.x + (lootAt.x * 18), this.tankSprite.position.y + (lootAt.y * 18)) ;\r\n        this.bulletVelocity.x = lootAt.x * 300 ;\r\n        this.bulletVelocity.y = lootAt.y * 300 ;\r\n      }\r\n    });\r\n\r\n    // Cursor\r\n    this.cursors = this.game.input.keyboard.createCursorKeys();\r\n  }\r\n\r\n  public update() {\r\n    // input and move\r\n    this.tankSprite.body.setZeroRotation();\r\n    let move = false ;\r\n    if (this.cursors.up.isDown) {\r\n      this.tankSprite.body.thrust(400) ;\r\n      move = true ;\r\n    } else if (this.cursors.down.isDown) {\r\n      this.tankSprite.body.thrust(-400) ;\r\n      move = true ;\r\n    }\r\n    if (this.cursors.left.isDown) {\r\n      this.tankSprite.body.rotateLeft(100);\r\n      move = true ;\r\n    } else if (this.cursors.right.isDown) {\r\n      this.tankSprite.body.rotateRight(100);\r\n      move = true ;\r\n    }\r\n\r\n    // Bullet\r\n    if (this.bulletSprite.visible) {\r\n      this.bulletSprite.position.setTo(this.bulletSprite.position.x + (this.bulletVelocity.x * this.game.time.elapsed / 1000),\r\n        this.bulletSprite.position.y + (this.bulletVelocity.y * this.game.time.elapsed / 1000)) ;\r\n      let pos = this.bulletSprite.position ;\r\n\r\n      if (pos.x >= this.rightBoundry * this.TILE_WIDTH || pos.x <= this.leftBoundry * this.TILE_WIDTH ||\r\n        pos.y >= this.bottomBoundry * this.TILE_WIDTH || pos.y <= this.topBoundry * this.TILE_WIDTH) {\r\n        this.bulletSprite.visible = false ;\r\n      } else {\r\n        let xless = (this.bulletSprite.position.x / this.TILE_WIDTH | 0) - 2  ;\r\n        let xMore = (this.bulletSprite.position.x / this.TILE_WIDTH | 0) + 2  ;\r\n        let yless = (this.bulletSprite.position.y / this.TILE_WIDTH | 0) - 2  ;\r\n        let yMore = (this.bulletSprite.position.y / this.TILE_WIDTH | 0) + 2  ;\r\n        for (let iX = xless ; iX <= xMore ; iX++) {\r\n          for (let iY = yless ; iY <= yMore ; iY++) {\r\n            if (iX < this.leftBoundry || iX > this.rightBoundry || iY < this.topBoundry || iY > this.bottomBoundry) {\r\n              continue ;\r\n            }\r\n            if (this.tiles[iX][iY].type !== TileType.Floor) {\r\n              if (this.tiles[iX][iY].ckeckCollision(this.bulletSprite.position)) {\r\n                this.bulletSprite.visible = false ;\r\n                if (this.tiles[iX][iY].type === TileType.Hay) {\r\n                  this.tiles[iX][iY].hitBullet(100) ;\r\n                }\r\n                break ;\r\n              }\r\n            }\r\n          }\r\n          if (this.bulletSprite.visible === false) {\r\n            break ;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Tile assign (create, show & hide)\r\n    if (move) {\r\n      this.tileAssign() ;\r\n    }\r\n  }\r\n\r\n  private tileAssign() {\r\n    // Count boundry\r\n    let totalRadius = this.TILE_WIDTH * this.VISIBLE_TILE_RADIUS ;\r\n    this.leftBoundry = (this.tankSprite.position.x - totalRadius) / this.TILE_WIDTH | 0 ;\r\n    this.rightBoundry = (this.tankSprite.position.x + totalRadius) / this.TILE_WIDTH | 0 ;\r\n    this.topBoundry = (this.tankSprite.position.y - totalRadius) / this.TILE_WIDTH | 0 ;\r\n    this.bottomBoundry = (this.tankSprite.position.y + totalRadius) / this.TILE_WIDTH | 0 ;\r\n\r\n    // visible in boundry\r\n    for (let iX = this.leftBoundry ; iX <= this.rightBoundry ; iX ++) {\r\n      for (let iY = this.topBoundry ; iY <= this.bottomBoundry ; iY ++) {\r\n        if (!this.checkTileExistAnyArrayIt(iX, iY)) {\r\n          const tileSprite = this.game.add.sprite(iX * this.TILE_WIDTH, iY * this.TILE_WIDTH, 'tileImage', 0, this.tileGroup) ;\r\n          let randID = this.game.rnd.integerInRange(0, 10) ;\r\n          if (randID < 9) {\r\n            randID = 0 ;\r\n          } else if (randID === 9) {\r\n            randID = 1 ;\r\n          } else if (randID === 10) {\r\n            randID = 2 ;\r\n          }\r\n          this.tiles[iX][iY] = new Tile(this.game, randID, tileSprite) ;\r\n          this.allTileIndex.push(new Phaser.Point(iX, iY)) ;\r\n        } else {\r\n          this.tiles[iX][iY].visible = true ;\r\n        }\r\n      }\r\n    }\r\n\r\n    // invisivle out of boundry\r\n    this.allTileIndex.forEach((value: Phaser.Point, index: number, array: Phaser.Point[]) => {\r\n      if (value.x < this.leftBoundry || value.x > this.rightBoundry || value.y < this.topBoundry || value.y > this.bottomBoundry) {\r\n        if (this.tiles[value.x][value.y].visible === true) {\r\n          this.tiles[value.x][value.y].visible = false ;\r\n        }\r\n      }\r\n    }) ;\r\n  }\r\n\r\n  private checkTileExistAnyArrayIt(inX: number, inY: number): boolean {\r\n    let isExist = true ;\r\n    if (!this.tiles[inX]) {\r\n      isExist = false ;\r\n      this.tiles[inX] = [] ;\r\n    }\r\n    if ( !this.tiles[inX][inY] ) {\r\n      isExist = false ;\r\n    }\r\n    return isExist ;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/states/main.state.ts","'use strict';\r\n/** Imports */\r\nimport State from './state';\r\n\r\n// Webpack will replace these imports with a URLs to images\r\nconst skyImage        = require('assets/images/sky.png'); // const skyImage = '/assets/images/sky.png';\r\nconst platformImage   = require('assets/images/platform.png');\r\nconst starImage       = require('assets/images/star.png');\r\nconst dudeImage       = require('assets/images/dude.png');\r\n\r\nconst tileImage       = require('assets/images/tile.png');\r\nconst tankImage       = require('assets/images/tank.png');\r\nconst bulletImage     = require('assets/images/bullet.png');\r\n\r\n// The state for loading core resources for the game\r\nexport default class PreloaderState extends State {\r\n  preload(): void {\r\n    console.debug('Assets loading started');\r\n\r\n    this.game.load.image('sky', skyImage);\r\n    this.game.load.image('platform', platformImage);\r\n    this.game.load.image('star', starImage);\r\n    this.game.load.spritesheet('dude', dudeImage, 32, 48);\r\n\r\n    this.game.load.spritesheet('tileImage', tileImage, 32, 32);\r\n    this.game.load.image('tankImage', tankImage);\r\n    this.game.load.image('bulletImage', bulletImage);\r\n  }\r\n\r\n  create(): void {\r\n    console.debug('Assets loading completed');\r\n\r\n    this.game.state.start('main'); // Switch to main game state\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/states/preloader.state.ts","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./styles/style.styl\n// module id = 8\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/images/bullet.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/bullet.png\n// module id = 11\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/images/dude.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/dude.png\n// module id = 12\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/images/platform.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/platform.png\n// module id = 13\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/images/sky.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/sky.png\n// module id = 14\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/images/star.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/star.png\n// module id = 15\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/images/tank.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/tank.png\n// module id = 16\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/images/tile.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/tile.png\n// module id = 17\n// module chunks = 0","'use strict';\r\n/** Imports */\r\n// Import global dependencies. (I remind you, webpack create separate chunk file for them).\r\nrequire('pixi');    // Because Phaser use PIXI and p2 as global variables, they must be imported first.\r\nrequire('p2');\r\nrequire('phaser');  // So, in my case, TypeScript breaks if i import it as `import 'phaser';`. ¯\\_(ツ)_/¯\r\n\r\nimport 'styles/style.styl'; // Registering styles for the page; They will automatically inject.\r\n\r\nimport BootState        from './states/boot.state';\r\nimport PreloaderState   from './states/preloader.state';\r\nimport MainState        from './states/main.state';\r\n\r\n\r\n// The main class of our application\r\nexport default class App extends Phaser.Game {\r\n  constructor(config: Phaser.IGameConfig) {\r\n    super(config);\r\n\r\n    this.state.add('boot', BootState);\r\n    this.state.add('preloader', PreloaderState);\r\n    this.state.add('main', MainState); // Add `main` state into game\r\n\r\n    this.state.start('boot'); // Initialize and start `boot` state\r\n  }\r\n}\r\n\r\n\r\n// Like python's `__name__ == \"__main__\"` checks whether the module is part\r\n// of another program or it is executable.\r\nif (!module.parent) {\r\n  window.onload = () => {\r\n    const config: Phaser.IGameConfig = {\r\n      width:           800, // width of canvas\r\n      height:          600, // height of canvas\r\n      renderer:        Phaser.AUTO, // rendering context. The recommended parameter is Phaser.AUTO\r\n      parent:          '',\r\n      resolution:      1,\r\n      forceSetTimeOut: false // tell Phaser to use `setTimeOut` even if `requestAnimationFrame` is available.\r\n    };\r\n\r\n    new App(config); // Initialize the application. It will automatically inject <canvas /> into <body />\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}